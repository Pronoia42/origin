openapi: '3.0.0'
info:
  title: 'Origin Organization I-REC API'
  description: 'Swagger documentation for the Origin Organization I-REC API'
  version: '0.1'
  contact: {}
tags: []
servers: []
components:
  securitySchemes:
    access-token:
      scheme: 'bearer'
      bearerFormat: 'JWT'
      type: 'http'
  schemas:
    IRECAccountType:
      type: 'string'
      enum:
        - 'Registrant'
        - 'Participant'
        - 'Both'
    RegistrationDTO:
      type: 'object'
      properties:
        accountType:
          $ref: '#/components/schemas/IRECAccountType'
        headquarterCountry:
          type: 'string'
        registrationYear:
          type: 'number'
        employeesNumber:
          type: 'string'
        shareholders:
          type: 'string'
        website:
          type: 'string'
        activeCountries:
          type: 'array'
          items:
            type: 'string'
        mainBusiness:
          type: 'string'
        ceoName:
          type: 'string'
        ceoPassportNumber:
          type: 'string'
        balanceSheetTotal:
          type: 'string'
        subsidiaries:
          type: 'string'
        primaryContactOrganizationName:
          type: 'string'
        primaryContactOrganizationAddress:
          type: 'string'
        primaryContactOrganizationPostalCode:
          type: 'string'
        primaryContactOrganizationCountry:
          type: 'string'
        primaryContactName:
          type: 'string'
        primaryContactEmail:
          type: 'string'
        primaryContactPhoneNumber:
          type: 'string'
        primaryContactFax:
          type: 'string'
        leadUserTitle:
          type: 'string'
        leadUserFirstName:
          type: 'string'
        leadUserLastName:
          type: 'string'
        leadUserEmail:
          type: 'string'
        leadUserPhoneNumber:
          type: 'string'
        leadUserFax:
          type: 'string'
        id:
          type: 'string'
        owner:
          type: 'string'
      required:
        - 'accountType'
        - 'headquarterCountry'
        - 'registrationYear'
        - 'employeesNumber'
        - 'shareholders'
        - 'website'
        - 'activeCountries'
        - 'mainBusiness'
        - 'ceoName'
        - 'ceoPassportNumber'
        - 'balanceSheetTotal'
        - 'primaryContactOrganizationName'
        - 'primaryContactOrganizationAddress'
        - 'primaryContactOrganizationPostalCode'
        - 'primaryContactOrganizationCountry'
        - 'primaryContactName'
        - 'primaryContactEmail'
        - 'primaryContactPhoneNumber'
        - 'primaryContactFax'
        - 'leadUserTitle'
        - 'leadUserFirstName'
        - 'leadUserLastName'
        - 'leadUserEmail'
        - 'leadUserPhoneNumber'
        - 'leadUserFax'
        - 'id'
        - 'owner'
    NewRegistrationDTO:
      type: 'object'
      properties:
        accountType:
          $ref: '#/components/schemas/IRECAccountType'
        headquarterCountry:
          type: 'string'
        registrationYear:
          type: 'number'
        employeesNumber:
          type: 'string'
        shareholders:
          type: 'string'
        website:
          type: 'string'
        activeCountries:
          type: 'array'
          items:
            type: 'string'
        mainBusiness:
          type: 'string'
        ceoName:
          type: 'string'
        ceoPassportNumber:
          type: 'string'
        balanceSheetTotal:
          type: 'string'
        subsidiaries:
          type: 'string'
        primaryContactOrganizationName:
          type: 'string'
        primaryContactOrganizationAddress:
          type: 'string'
        primaryContactOrganizationPostalCode:
          type: 'string'
        primaryContactOrganizationCountry:
          type: 'string'
        primaryContactName:
          type: 'string'
        primaryContactEmail:
          type: 'string'
        primaryContactPhoneNumber:
          type: 'string'
        primaryContactFax:
          type: 'string'
        leadUserTitle:
          type: 'string'
        leadUserFirstName:
          type: 'string'
        leadUserLastName:
          type: 'string'
        leadUserEmail:
          type: 'string'
        leadUserPhoneNumber:
          type: 'string'
        leadUserFax:
          type: 'string'
      required:
        - 'accountType'
        - 'headquarterCountry'
        - 'registrationYear'
        - 'employeesNumber'
        - 'shareholders'
        - 'website'
        - 'activeCountries'
        - 'mainBusiness'
        - 'ceoName'
        - 'ceoPassportNumber'
        - 'balanceSheetTotal'
        - 'primaryContactOrganizationName'
        - 'primaryContactOrganizationAddress'
        - 'primaryContactOrganizationPostalCode'
        - 'primaryContactOrganizationCountry'
        - 'primaryContactName'
        - 'primaryContactEmail'
        - 'primaryContactPhoneNumber'
        - 'primaryContactFax'
        - 'leadUserTitle'
        - 'leadUserFirstName'
        - 'leadUserLastName'
        - 'leadUserEmail'
        - 'leadUserPhoneNumber'
        - 'leadUserFax'
    RegisterResponseDTO:
      type: 'object'
      properties:
        id:
          type: 'string'
      required:
        - 'id'
    CreateConnectionDTO:
      type: 'object'
      properties:
        userName:
          type: 'string'
        password:
          type: 'string'
        clientId:
          type: 'string'
        clientSecret:
          type: 'string'
      required:
        - 'userName'
        - 'password'
        - 'clientId'
        - 'clientSecret'
    ConnectionDTO:
      type: 'object'
      properties:
        accessToken:
          type: 'string'
        refreshToken:
          type: 'string'
        expiryDate:
          format: 'date-time'
          type: 'string'
        registration:
          $ref: '#/components/schemas/RegistrationDTO'
      required:
        - 'accessToken'
        - 'refreshToken'
        - 'expiryDate'
        - 'registration'
paths:
  /api/irec/registration:
    get:
      operationId: 'RegistrationController_getRegistrations'
      parameters: []
      responses:
        200:
          description: 'Get all registrations'
          content:
            application/json:
              schema:
                type: 'array'
                items:
                  $ref: '#/components/schemas/RegistrationDTO'
      tags:
        - 'irec_registration'
      security:
        - access-token: []
    post:
      operationId: 'RegistrationController_register'
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewRegistrationDTO'
      responses:
        201:
          description: 'Register an I-REC organization'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegisterResponseDTO'
      tags:
        - 'irec_registration'
      security:
        - access-token: []
  /api/irec/connection:
    post:
      operationId: 'ConnectionController_register'
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateConnectionDTO'
      responses:
        201:
          description: 'Creates a connection to I-REC'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConnectionDTO'
      tags:
        - 'irec_connection'
      security:
        - access-token: []
    get:
      operationId: 'ConnectionController_getMyConnection'
      parameters: []
      responses:
        200:
          description: 'Get a IREC connection info'
          content:
            application/json:
              schema:
                type: 'array'
                items:
                  $ref: '#/components/schemas/ConnectionDTO'
      tags:
        - 'irec_connection'
      security:
        - access-token: []
